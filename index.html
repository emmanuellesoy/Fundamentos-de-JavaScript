<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>Fundamentos de JavaScript</title>
</head>
<body>
   <script type="text/javascript">
   function get(URL, callback) {
      const xhr = new XMLHttpRequest();

      xhr.onreadystatechange = function() {
         const DONE = 4
         const OK = 200

         if( this.readyState === DONE ) {

            if( this.status === OK ) {
               callback( null, JSON.parse(this.responseText) )
            } else {
               callback(new Error(`Se produjo un error al realizar el request: ${this.status}`))
            }

         }

      }

      xhr.open('GET', URL);
      xhr.send(null);

   }

   get("http://swapi.co/api/people/1/", function(error, data){

      if(error) return console.log(`Request failed: ${error}` );

         console.log(`Request succeded`);
         console.log( data );

   })
   </script>
</body>
</html>
